(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const n of e.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function s(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function o(t){if(t.ep)return;t.ep=!0;const e=s(t);fetch(t.href,e)}})();class f{#e=[];#t;#s;#i;#n=new AbortController;#r;#o=new Map;#h=0;#c=0;#a;constructor(i={}){this.#a=window.matchMedia("(prefers-reduced-motion: reduce)"),this.respectMotionPrefs=i.respectMotionPrefs??!0,this.#i={emoji:i.emoji??"âœ¨",density:i.density??1,fadeSpeed:i.fadeSpeed??.02,speed:i.speed??5},this.#u(),this.#f()}#u(){this.#t=document.createElement("canvas"),this.#s=this.#t.getContext("2d"),Object.assign(this.#t.style,{position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh",pointerEvents:"none",zIndex:"9999",background:"transparent"}),document.body.appendChild(this.#t)}#f(){if(this.respectMotionPrefs&&this.#a.matches){console.info("MagicWandTrail: Motion disabled due to user system preferences.");return}this.#d();const{signal:i}=this.#n;window.addEventListener("resize",()=>this.#d(),{signal:i});let s=0;const o=t=>{const e=t.touches?t.touches[0].clientX:t.clientX,n=t.touches?t.touches[0].clientY:t.clientY,h=e-this.#h,a=n-this.#c,l=Math.hypot(h,a);s+=l;const c=15/this.#i.density;if(s>=c){const u=Math.floor(s/c);for(let d=0;d<u;d++)this.#p(e,n,h,a);s%=c}this.#h=e,this.#c=n};window.addEventListener("mousemove",o,{signal:i}),window.addEventListener("touchmove",o,{passive:!0,signal:i}),this.#l()}#d(){this.#t.width=window.innerWidth,this.#t.height=window.innerHeight}#p(i,s,o,t){for(let e=0;e<this.#i.density;e++){const n=o*.15+(Math.random()-.5)*2*this.#i.speed,h=t*.15+(Math.random()-.5)*2*this.#i.speed;this.#e.push(new p(i,s,n,h,this.#i))}}#m(i,s){const o=`${i}-${Math.round(s)}`;if(this.#o.has(o))return this.#o.get(o);const t=document.createElement("canvas"),e=window.devicePixelRatio||1;t.width=s*e*1.5,t.height=s*e*1.5;const n=t.getContext("2d");return n.font=`${s*e}px serif`,n.textAlign="center",n.textBaseline="middle",n.fillText(i,t.width/2,t.height/2),this.#o.set(o,t),t}#l(){this.#s.clearRect(0,0,this.#t.width,this.#t.height);for(let i=this.#e.length-1;i>=0;i--){const s=this.#e[i];s.update();const o=this.#m(s.emoji,s.size);this.#s.globalAlpha=s.opacity,this.#s.drawImage(o,s.x-o.width/(2*(window.devicePixelRatio||1)),s.y-o.height/(2*(window.devicePixelRatio||1)),o.width/(window.devicePixelRatio||1),o.height/(window.devicePixelRatio||1)),s.opacity<=0&&(this.#e[i]=this.#e[this.#e.length-1],this.#e.pop())}this.#r=requestAnimationFrame(()=>this.#l())}destroy(){this.#n.abort(),cancelAnimationFrame(this.#r),this.#t.remove(),this.#e=[]}}class p{constructor(i,s,o,t,e){this.x=i,this.y=s,this.vx=o,this.vy=t,this.opacity=1,this.fadeSpeed=e.fadeSpeed,this.size=Math.random()*20+10,this.emoji=Array.isArray(e.emoji)?e.emoji[Math.floor(Math.random()*e.emoji.length)]:e.emoji}update(){this.vx*=.96,this.vy*=.96,this.vy+=.1,this.x+=this.vx,this.y+=this.vy,this.opacity-=this.fadeSpeed}}function m(r={}){const i=new f(r);return{destroy:()=>i.destroy()}}m({emoji:["ğŸŒœ","â„ï¸","ğŸƒ"]});
